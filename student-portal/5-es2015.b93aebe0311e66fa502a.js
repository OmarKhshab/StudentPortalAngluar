(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{qqi4:function(e,t,s){"use strict";s.r(t);var n=s("ofXK"),i=s("tyNb"),r=s("fXoL"),a=s("HDdC"),c=s("JIr8"),o=s("vkgz"),d=s("lJxs"),u=s("tk/3");let b=(()=>{class e{constructor(e){this.http=e,this.url="api/students"}getStudents(){return this.http.get(this.url)}getStudent(e){return this.http.get(`${this.url}/${e}`).pipe(Object(c.a)(this.handleError))}updateStudent(e){return this.http.put(`${this.url}/${e.id}`,e).pipe(Object(o.a)(()=>console.log("updatestudent: "+e.id)),Object(d.a)(()=>e),Object(c.a)(this.handleError))}DeleteStudent(e){return this.http.delete(`${this.url}/${e}`).pipe(Object(o.a)(()=>console.log("Deletestudent: "+e)),Object(c.a)(this.handleError))}Addstudent(e){return this.http.post(this.url,e).pipe(Object(c.a)(this.handleError))}handleError(e){let t;return t=e.error instanceof ErrorEvent?`An error occurred: ${e.error.message}`:`Backend returned code ${e.status}: ${e.body.error}`,console.error(e),s=t,new a.a(e=>e.error(s));var s}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(u.b))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const l=function(e){return["/student",e,"edit"]};function h(e,t){if(1&e&&(r.Pb(0,"tr"),r.Pb(1,"th",7),r.jc(2),r.Ob(),r.Pb(3,"td"),r.Nb(4,"img",8),r.Ob(),r.Pb(5,"td"),r.jc(6),r.Ob(),r.Pb(7,"td"),r.jc(8),r.Ob(),r.Pb(9,"td"),r.Pb(10,"button",9),r.jc(11," Edit "),r.Ob(),r.Ob(),r.Ob()),2&e){const e=t.$implicit;r.Cb(2),r.kc(e.id),r.Cb(2),r.bc("src",e.imgsrc,r.gc),r.Cb(2),r.kc(e.name),r.Cb(2),r.kc(e.gpa),r.Cb(2),r.ac("routerLink",r.dc(5,l,e.id))}}let g=(()=>{class e{constructor(e){this.studentservice=e,this.students=[]}ngOnInit(){this.studentservice.getStudents().subscribe({next:e=>{this.students=e}})}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(b))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-all-students"]],decls:21,vars:1,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"table"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["width","150px","height","150px",3,"src"],[1,"btn","btn-outline-primary","btn-sm",3,"routerLink"]],template:function(e,t){1&e&&(r.Pb(0,"html",0),r.Pb(1,"head"),r.Nb(2,"meta",1),r.Nb(3,"meta",2),r.Pb(4,"title"),r.jc(5,"All Students"),r.Ob(),r.Ob(),r.Pb(6,"body"),r.Pb(7,"table",3),r.Pb(8,"thead",4),r.Pb(9,"tr"),r.Pb(10,"th",5),r.jc(11,"ID"),r.Ob(),r.Pb(12,"th",5),r.jc(13,"Image"),r.Ob(),r.Pb(14,"th",5),r.jc(15,"Name"),r.Ob(),r.Pb(16,"th",5),r.jc(17,"GPA"),r.Ob(),r.Nb(18,"th",5),r.Ob(),r.Ob(),r.Pb(19,"tbody"),r.ic(20,h,12,7,"tr",6),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&e&&(r.Cb(20),r.ac("ngForOf",t.students))},directives:[n.i,i.c],styles:["table[_ngcontent-%COMP%]{width:70vw;margin-left:15%}"]}),e})();var m=s("3Pt+"),p=s("7o/Q"),v=s("quSY");class f extends v.a{constructor(e,t){super()}schedule(e,t=0){return this}}class O extends f{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const s=this.id,n=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(n,s,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,s=0){return setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,t,s=0){if(null!==s&&this.delay===s&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(e,t);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s=!1,n=void 0;try{this.work(e)}catch(i){s=!0,n=!!i&&i||new Error(i)}if(s)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,s=t.actions,n=s.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&s.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let P=(()=>{class e{constructor(t,s=e.now){this.SchedulerAction=t,this.now=s}schedule(e,t=0,s){return new this.SchedulerAction(this,e).schedule(s,t)}}return e.now=()=>Date.now(),e})();class y extends P{constructor(e,t=P.now){super(e,()=>y.delegate&&y.delegate!==this?y.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,s){return y.delegate&&y.delegate!==this?y.delegate.schedule(e,t,s):super.schedule(e,t,s)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let s;this.active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,s){for(;e=t.shift();)e.unsubscribe();throw s}}}const C=new y(O);function N(e,t=C){return s=>s.lift(new w(e,t))}class w{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new M(e,this.dueTime,this.scheduler))}}class M extends p.a{constructor(e,t,s){super(e),this.dueTime=t,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(j,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function j(e){e.debouncedNext()}const k=function(e){return{"is-invalid":e}};let I=(()=>{class e{constructor(e,t,s,n){this.route=e,this.router=t,this.fb=s,this.studentservice=n}ngOnInit(){this.route.data.subscribe(e=>{this.student=e.studentresolved}),this.studentForm=this.fb.group({name:[this.student.name,[m.k.required,m.k.minLength(3),m.k.maxLength(15)]],gpa:[this.student.gpa,[m.k.required,m.k.min(0),m.k.max(4)]],imgsrc:[this.student.imgsrc,[m.k.required,m.k.minLength(8)]],id:[{value:this.student.id,disabled:!0}]}),this.studentForm.get("name").valueChanges.pipe(N(2e3)).subscribe(e=>{this.setNameMeassage(this.studentForm.get("name"))}),this.studentForm.get("gpa").valueChanges.pipe(N(2e3)).subscribe(e=>{this.setGPAMeassage(this.studentForm.get("gpa"))}),this.studentForm.get("imgsrc").valueChanges.pipe(N(2e3)).subscribe(e=>{this.setImageMeassage(this.studentForm.get("imgsrc"))})}save(){console.log(this.studentForm.value),this.studentservice.updateStudent(Object.assign(Object.assign({},this.student),this.studentForm.value)).subscribe(e=>{console.log("Saved"),this.router.navigate(["/student"])})}setImageMeassage(e){this.ImageMessage="",(e.touched||e.dirty)&&e.errors&&(this.ImageMessage="Please enter a real url")}setNameMeassage(e){this.NameMessage="",(e.touched||e.dirty)&&e.errors&&(this.NameMessage="Please enter a valid name")}setGPAMeassage(e){this.GPAMessage="",(e.touched||e.dirty)&&e.errors&&(this.GPAMessage="Please enter a value between 0 and 4")}delete(){this.studentservice.DeleteStudent(this.student.id).subscribe(()=>{console.log("deleted"),this.router.navigate(["/student"])})}valid(){return JSON.stringify(this.student)===JSON.stringify(Object.assign(Object.assign({},this.student),this.studentForm.value))}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(i.a),r.Mb(i.b),r.Mb(m.b),r.Mb(b))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-edit-student"]],decls:50,vars:14,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"card","card-outline-secondary","containerr"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],["autocomplete","off","novalidate","",1,"form",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-lg-3","col-form-label","form-control-label"],[1,"col-lg-9"],["type","text","formControlName","id",1,"form-control"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["type","text","formControlName","gpa",1,"form-control",3,"ngClass"],["type","text","formControlName","imgsrc",1,"form-control",3,"ngClass"],["type","button","value","Cancel","routerLink","/student",1,"btn","btn-secondary","spacee"],["type","submit","value","Save Changes",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-danger","spaces",3,"click"],[1,"row","justify-content-center"],[1,"col-md-6"],["id","formContact",1,"anchor"],[1,"my-5"]],template:function(e,t){1&e&&(r.Pb(0,"html",0),r.Pb(1,"head"),r.Nb(2,"meta",1),r.Nb(3,"meta",2),r.Pb(4,"title"),r.jc(5,"Edit Student"),r.Ob(),r.Ob(),r.Pb(6,"body"),r.Pb(7,"div",3),r.Pb(8,"div",4),r.Pb(9,"h3",5),r.jc(10,"User Information"),r.Ob(),r.Ob(),r.Pb(11,"div",6),r.Pb(12,"form",7),r.Xb("ngSubmit",(function(){return t.save()})),r.Pb(13,"div",8),r.Pb(14,"label",9),r.jc(15,"ID"),r.Ob(),r.Pb(16,"div",10),r.Nb(17,"input",11),r.Ob(),r.Ob(),r.Pb(18,"div",8),r.Pb(19,"label",9),r.jc(20,"Name"),r.Ob(),r.Pb(21,"div",10),r.Nb(22,"input",12),r.Pb(23,"span",13),r.jc(24),r.Ob(),r.Ob(),r.Ob(),r.Pb(25,"div",8),r.Pb(26,"label",9),r.jc(27,"GPA"),r.Ob(),r.Pb(28,"div",10),r.Nb(29,"input",14),r.Pb(30,"span",13),r.jc(31),r.Ob(),r.Ob(),r.Ob(),r.Pb(32,"div",8),r.Pb(33,"label",9),r.jc(34,"Image URL"),r.Ob(),r.Pb(35,"div",10),r.Nb(36,"input",15),r.Pb(37,"span",13),r.jc(38),r.Ob(),r.Ob(),r.Ob(),r.Pb(39,"div",8),r.Nb(40,"label",9),r.Pb(41,"div",10),r.Nb(42,"input",16),r.Nb(43,"input",17),r.Pb(44,"button",18),r.Xb("click",(function(){return t.delete()})),r.jc(45,"Delete"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(46,"div",19),r.Pb(47,"div",20),r.Nb(48,"span",21),r.Nb(49,"hr",22),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&e&&(r.Cb(12),r.ac("formGroup",t.studentForm),r.Cb(10),r.ac("ngClass",r.dc(8,k,t.NameMessage)),r.Cb(2),r.lc(" ",t.NameMessage,""),r.Cb(5),r.ac("ngClass",r.dc(10,k,t.GPAMessage)),r.Cb(2),r.lc(" ",t.GPAMessage,""),r.Cb(5),r.ac("ngClass",r.dc(12,k,t.ImageMessage)),r.Cb(2),r.lc(" ",t.ImageMessage,""),r.Cb(5),r.ac("disabled",!t.studentForm.valid))},directives:[m.l,m.g,m.d,m.a,m.f,m.c,n.h,i.c],styles:[".containerr[_ngcontent-%COMP%]{width:70%;margin-left:15%}.spacee[_ngcontent-%COMP%]{margin-right:2%}.spaces[_ngcontent-%COMP%]{margin-left:2%}"]}),e})();class S{constructor(){}}const x=function(e){return{"is-invalid":e}};let A=(()=>{class e{constructor(e,t,s,n){this.route=e,this.router=t,this.fb=s,this.studentservice=n,this.student=new S}ngOnInit(){this.route.data.subscribe(e=>{this.students=e.newid}),this.New_id=this.students[this.students.length-1].id,this.student.id=this.New_id+1,this.student.name=null,this.student.gpa=null,this.student.imgsrc=null,this.studentForm=this.fb.group({name:[this.student.name,[m.k.required,m.k.minLength(3),m.k.maxLength(15)]],gpa:[this.student.gpa,[m.k.required,m.k.min(0),m.k.max(4)]],imgsrc:[this.student.imgsrc,[m.k.required,m.k.minLength(8)]],id:[{value:this.student.id,disabled:!0}]}),this.studentForm.get("name").valueChanges.pipe(N(2e3)).subscribe(e=>{this.setNameMeassage(this.studentForm.get("name")),this.student.name=e}),this.studentForm.get("gpa").valueChanges.pipe(N(2e3)).subscribe(e=>{this.setGPAMeassage(this.studentForm.get("gpa")),this.student.gpa=e}),this.studentForm.get("imgsrc").valueChanges.pipe(N(2e3)).subscribe(e=>{this.setImageMeassage(this.studentForm.get("imgsrc")),this.student.imgsrc=e}),console.log(JSON.stringify(this.student)),console.log(JSON.stringify(Object.assign(Object.assign({},this.student),this.studentForm.value)))}setImageMeassage(e){this.ImageMessage="",(e.touched||e.dirty)&&e.errors&&(this.ImageMessage="Please enter a real url")}setNameMeassage(e){this.NameMessage="",(e.touched||e.dirty)&&e.errors&&(this.NameMessage="Please enter a valid name")}setGPAMeassage(e){this.GPAMessage="",(e.touched||e.dirty)&&e.errors&&(this.GPAMessage="Please enter a value between 0 and 4")}save(){console.log(this.student),this.studentservice.Addstudent(this.student).subscribe(e=>{console.log("added"),this.router.navigate(["/student"])})}valid(){return JSON.stringify(this.student)===JSON.stringify(Object.assign(Object.assign({},this.student),this.studentForm.value))}}return e.\u0275fac=function(t){return new(t||e)(r.Mb(i.a),r.Mb(i.b),r.Mb(m.b),r.Mb(b))},e.\u0275cmp=r.Gb({type:e,selectors:[["app-add-student"]],decls:48,vars:14,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"card","card-outline-secondary","containerr"],[1,"card-header"],[1,"mb-0"],[1,"card_body"],["autocomplete","off","novalidate","",1,"form",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-lg-3","col-form-label","form-control-label"],[1,"col-lg-9"],["type","text","formControlName","id",1,"form-control"],["type","text","formControlName","name",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],["type","text","formControlName","gpa",1,"form-control",3,"ngClass"],["type","text","formControlName","imgsrc",1,"form-control",3,"ngClass"],["type","reset","value","Cancel","routerLink","/student",1,"btn","btn-secondary","spacee"],["type","submit","value","Add Student",1,"btn","btn-primary",3,"disabled"],[1,"row","justify-content-center"],[1,"col-md-6"],["id","formContact",1,"anchor"],[1,"my-5"]],template:function(e,t){1&e&&(r.Pb(0,"html",0),r.Pb(1,"head"),r.Nb(2,"meta",1),r.Nb(3,"meta",2),r.Pb(4,"title"),r.jc(5,"Add Student"),r.Ob(),r.Ob(),r.Pb(6,"body"),r.Pb(7,"div",3),r.Pb(8,"div",4),r.Pb(9,"h3",5),r.jc(10,"Add Student"),r.Ob(),r.Pb(11,"div",6),r.Pb(12,"form",7),r.Xb("ngSubmit",(function(){return t.save()})),r.Pb(13,"div",8),r.Pb(14,"label",9),r.jc(15,"ID"),r.Ob(),r.Pb(16,"div",10),r.Nb(17,"input",11),r.Ob(),r.Ob(),r.Pb(18,"div",8),r.Pb(19,"label",9),r.jc(20,"Name"),r.Ob(),r.Pb(21,"div",10),r.Nb(22,"input",12),r.Pb(23,"span",13),r.jc(24),r.Ob(),r.Ob(),r.Ob(),r.Pb(25,"div",8),r.Pb(26,"label",9),r.jc(27,"GPA"),r.Ob(),r.Pb(28,"div",10),r.Nb(29,"input",14),r.Pb(30,"span",13),r.jc(31),r.Ob(),r.Ob(),r.Ob(),r.Pb(32,"div",8),r.Pb(33,"label",9),r.jc(34,"Image"),r.Ob(),r.Pb(35,"div",10),r.Nb(36,"input",15),r.Pb(37,"span",13),r.jc(38),r.Ob(),r.Ob(),r.Ob(),r.Pb(39,"div",8),r.Nb(40,"label",9),r.Pb(41,"div",10),r.Nb(42,"input",16),r.Nb(43,"input",17),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(44,"div",18),r.Pb(45,"div",19),r.Nb(46,"span",20),r.Nb(47,"hr",21),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&e&&(r.Cb(12),r.ac("formGroup",t.studentForm),r.Cb(10),r.ac("ngClass",r.dc(8,x,t.NameMessage)),r.Cb(2),r.lc(" ",t.NameMessage,""),r.Cb(5),r.ac("ngClass",r.dc(10,x,t.GPAMessage)),r.Cb(2),r.lc(" ",t.GPAMessage,""),r.Cb(5),r.ac("ngClass",r.dc(12,x,t.ImageMessage)),r.Cb(2),r.lc(" ",t.ImageMessage,""),r.Cb(5),r.ac("disabled",!t.studentForm.valid))},directives:[m.l,m.g,m.d,m.a,m.f,m.c,n.h,i.c],styles:[".containerr[_ngcontent-%COMP%]{width:70%;margin-left:15%}.spacee[_ngcontent-%COMP%]{margin-right:2%}.spaces[_ngcontent-%COMP%]{margin-left:2%}"]}),e})();var F=s("iXT0");let G=(()=>{class e{constructor(e){this.studentsservice=e}resolve(e,t){const s=e.paramMap.get("id");return isNaN(+s)?(console.log("error"),null):this.studentsservice.getStudent(s)}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(b))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),D=(()=>{class e{constructor(e){this.studentservice=e}resolve(e,t){return this.studentservice.getStudents()}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(b))},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_=(()=>{class e{canDeactivate(e,t,s,n){return!!e.valid()||confirm("Please Confirm these Changes")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),J=(()=>{class e{canDeactivate(e,t,s,n){return!!e.valid()||confirm("Navigate awy and lose all the changes")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),L=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},imports:[[i.f.forChild([{path:"",component:g,pathMatch:"full"},{path:":add",component:A,canActivate:[F.a],resolve:{newid:D},canDeactivate:[J]},{path:":id/edit",component:I,resolve:{studentresolved:G},canDeactivate:[_]}])],i.f]}),e})();s.d(t,"StudentsModule",(function(){return q}));let q=(()=>{class e{}return e.\u0275mod=r.Kb({type:e}),e.\u0275inj=r.Jb({factory:function(t){return new(t||e)},imports:[[n.b,L,m.j,m.e]]}),e})()}}]);